<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Annonces ‚Äî I-Djassa</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet" />
  <style>
    :root {
      --orange: #F4722B;
      --orange-light: #FF9A5C;
      --orange-dark: #C4511A;
      --green: #1A7A4A;
      --green-light: #2AAD68;
      --dark: #0F0E0C;
      --dark-2: #1C1A16;
      --dark-3: #2A2720;
      --text-muted: #8A8070;
      --white: #FFFFFF;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'DM Sans', sans-serif; background: var(--dark); color: var(--white); }

    /* NAV */
    nav {
      position: sticky; top: 0; z-index: 100;
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem 2rem;
      background: rgba(15,14,12,0.95);
      backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(244,114,43,0.15);
    }
    .logo { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.4rem; text-decoration: none; }
    .logo .i { color: var(--orange); }
    .logo .d { color: var(--white); }
    .nav-right { display: flex; align-items: center; gap: 1rem; }
    .nav-search {
      display: flex; align-items: center;
      background: rgba(255,255,255,0.07);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 100px;
      padding: 0.45rem 0.45rem 0.45rem 1rem;
      gap: 0.5rem; width: 300px;
    }
    .nav-search input {
      background: none; border: none; outline: none;
      color: var(--white); font-size: 0.88rem; font-family: 'DM Sans', sans-serif; width: 100%;
    }
    .nav-search input::placeholder { color: rgba(255,255,255,0.3); }
    .search-btn-sm {
      background: var(--orange); border: none; border-radius: 100px;
      padding: 0.4rem 1rem; color: var(--white); font-size: 0.82rem;
      font-weight: 600; cursor: pointer; white-space: nowrap;
      font-family: 'DM Sans', sans-serif;
    }
    .btn-publier {
      background: var(--orange); color: var(--white); border: none;
      padding: 0.55rem 1.2rem; border-radius: 100px;
      font-size: 0.88rem; font-weight: 600; cursor: pointer;
      text-decoration: none; white-space: nowrap;
      transition: background 0.2s;
    }
    .btn-publier:hover { background: var(--orange-dark); }

    /* LAYOUT */
    .page-layout {
      display: grid;
      grid-template-columns: 260px 1fr;
      gap: 0;
      min-height: calc(100vh - 60px);
    }

    /* SIDEBAR FILTRES */
    .sidebar {
      background: var(--dark-2);
      border-right: 1px solid rgba(255,255,255,0.06);
      padding: 1.5rem;
      position: sticky;
      top: 60px;
      height: calc(100vh - 60px);
      overflow-y: auto;
    }

    .filter-section { margin-bottom: 2rem; }
    .filter-title {
      font-family: 'Syne', sans-serif;
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-muted);
      margin-bottom: 0.8rem;
    }

    .filter-btn {
      display: flex; align-items: center; gap: 0.6rem;
      width: 100%; padding: 0.6rem 0.8rem;
      background: none; border: none; border-radius: 10px;
      color: rgba(255,255,255,0.7); font-size: 0.88rem;
      font-family: 'DM Sans', sans-serif;
      cursor: pointer; text-align: left;
      transition: all 0.15s;
    }
    .filter-btn:hover { background: rgba(255,255,255,0.06); color: var(--white); }
    .filter-btn.active { background: rgba(244,114,43,0.12); color: var(--orange); }
    .filter-btn .icon { font-size: 1.1rem; }
    .filter-count {
      margin-left: auto; font-size: 0.75rem;
      background: rgba(255,255,255,0.08);
      padding: 0.1rem 0.5rem; border-radius: 100px;
      color: var(--text-muted);
    }

    .price-range {
      display: flex; gap: 0.5rem; align-items: center;
    }
    .price-input {
      flex: 1; background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px; padding: 0.5rem 0.7rem;
      color: var(--white); font-size: 0.85rem;
      font-family: 'DM Sans', sans-serif; outline: none;
      transition: border-color 0.2s;
    }
    .price-input:focus { border-color: var(--orange); }
    .price-sep { color: var(--text-muted); font-size: 0.8rem; }

    .ville-select {
      width: 100%;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px; padding: 0.55rem 0.8rem;
      color: var(--white); font-size: 0.88rem;
      font-family: 'DM Sans', sans-serif; outline: none;
      cursor: pointer; transition: border-color 0.2s;
    }
    .ville-select:focus { border-color: var(--orange); }
    .ville-select option { background: var(--dark-2); }

    .trust-filter { display: flex; flex-direction: column; gap: 0.5rem; }
    .trust-option {
      display: flex; align-items: center; gap: 0.6rem;
      cursor: pointer; font-size: 0.88rem; color: rgba(255,255,255,0.7);
    }
    .trust-option input { accent-color: var(--orange); cursor: pointer; }

    .apply-btn {
      width: 100%; padding: 0.7rem;
      background: var(--orange); border: none; border-radius: 10px;
      color: var(--white); font-weight: 600; font-size: 0.9rem;
      font-family: 'DM Sans', sans-serif; cursor: pointer;
      transition: background 0.2s; margin-top: 0.5rem;
    }
    .apply-btn:hover { background: var(--orange-dark); }

    /* MAIN CONTENT */
    .main-content { padding: 1.5rem 2rem; }

    .results-header {
      display: flex; align-items: center; justify-content: space-between;
      margin-bottom: 1.5rem; flex-wrap: wrap; gap: 1rem;
    }

    .results-info h2 {
      font-family: 'Syne', sans-serif;
      font-size: 1.3rem; font-weight: 700;
    }
    .results-info p { color: var(--text-muted); font-size: 0.85rem; margin-top: 0.2rem; }

    .sort-select {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 8px; padding: 0.5rem 1rem;
      color: var(--white); font-size: 0.85rem;
      font-family: 'DM Sans', sans-serif; outline: none; cursor: pointer;
    }
    .sort-select option { background: var(--dark-2); }

    /* ACTIVE FILTERS */
    .active-filters { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 1.2rem; }
    .filter-tag {
      display: inline-flex; align-items: center; gap: 0.4rem;
      background: rgba(244,114,43,0.12);
      border: 1px solid rgba(244,114,43,0.25);
      color: var(--orange-light); border-radius: 100px;
      padding: 0.3rem 0.8rem; font-size: 0.78rem; font-weight: 500;
      cursor: pointer; transition: all 0.15s;
    }
    .filter-tag:hover { background: rgba(244,114,43,0.2); }
    .filter-tag .remove { font-size: 0.9rem; opacity: 0.7; }

    /* ANNONCES GRID */
    .annonces-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 1rem;
    }

    .annonce-card {
      background: var(--dark-2);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 14px; overflow: hidden;
      transition: all 0.25s; cursor: pointer;
      text-decoration: none; color: var(--white);
      display: block;
    }
    .annonce-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 16px 40px rgba(0,0,0,0.3);
      border-color: rgba(244,114,43,0.25);
    }

    .annonce-img {
      width: 100%; height: 160px;
      background: var(--dark-3);
      display: flex; align-items: center; justify-content: center;
      font-size: 3rem; position: relative;
    }

    .annonce-img .fav-btn {
      position: absolute; top: 0.6rem; right: 0.6rem;
      background: rgba(0,0,0,0.5); border: none;
      border-radius: 50%; width: 32px; height: 32px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; font-size: 0.9rem; transition: all 0.2s;
    }
    .annonce-img .fav-btn:hover { background: rgba(244,114,43,0.8); }

    .annonce-badge-img {
      position: absolute; bottom: 0.6rem; left: 0.6rem;
      display: inline-flex; align-items: center; gap: 0.2rem;
      padding: 0.2rem 0.5rem; border-radius: 100px;
      font-size: 0.68rem; font-weight: 600;
    }
    .badge-gold-img { background: rgba(255,215,0,0.9); color: #7A5500; }
    .badge-silver-img { background: rgba(192,192,192,0.9); color: #333; }
    .badge-bronze-img { background: rgba(205,127,50,0.9); color: #FFF; }

    .annonce-body { padding: 0.9rem; }
    .annonce-cat {
      font-size: 0.7rem; color: var(--orange);
      font-weight: 600; text-transform: uppercase;
      letter-spacing: 0.08em; margin-bottom: 0.3rem;
    }
    .annonce-title {
      font-weight: 600; font-size: 0.9rem;
      line-height: 1.3; margin-bottom: 0.6rem;
      display: -webkit-box; -webkit-line-clamp: 2;
      -webkit-box-orient: vertical; overflow: hidden;
    }
    .annonce-price {
      font-family: 'Syne', sans-serif;
      font-size: 1.05rem; font-weight: 700; color: var(--orange);
    }
    .annonce-footer {
      display: flex; align-items: center; justify-content: space-between;
      margin-top: 0.7rem; padding-top: 0.7rem;
      border-top: 1px solid rgba(255,255,255,0.06);
    }
    .annonce-loc {
      font-size: 0.75rem; color: var(--text-muted);
      display: flex; align-items: center; gap: 0.2rem;
    }
    .annonce-time { font-size: 0.72rem; color: var(--text-muted); }

    /* PAGINATION */
    .pagination {
      display: flex; align-items: center; justify-content: center;
      gap: 0.5rem; margin-top: 3rem; padding-bottom: 2rem;
    }
    .page-btn {
      width: 38px; height: 38px; border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.1);
      background: none; color: rgba(255,255,255,0.6);
      font-size: 0.88rem; cursor: pointer;
      font-family: 'DM Sans', sans-serif;
      transition: all 0.15s; display: flex;
      align-items: center; justify-content: center;
    }
    .page-btn:hover { background: rgba(255,255,255,0.06); color: var(--white); }
    .page-btn.active { background: var(--orange); color: var(--white); border-color: var(--orange); }

    /* EMPTY STATE */
    .empty-state {
      text-align: center; padding: 4rem 2rem;
      grid-column: 1 / -1;
    }
    .empty-icon { font-size: 3rem; margin-bottom: 1rem; }
    .empty-title { font-family: 'Syne', sans-serif; font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem; }
    .empty-desc { color: var(--text-muted); font-size: 0.9rem; }

    @media (max-width: 768px) {
      .page-layout { grid-template-columns: 1fr; }
      .sidebar { position: static; height: auto; }
      nav { padding: 0.8rem 1rem; }
      .nav-search { display: none; }
      .main-content { padding: 1rem; }
    }
  </style>
</head>
<body>

<!-- NAV -->
<nav>
  <a href="index.html" class="logo"><span class="i">I-</span><span class="d">Djassa</span></a>
  <div class="nav-search">
    <input type="text" placeholder="Rechercher..." id="searchInput" />
    <button class="search-btn-sm" onclick="filterAnnonces()">üîç</button>
  </div>
  <div class="nav-right">
    <a href="inscription.html" style="color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.88rem;">Connexion</a>
    <a href="publier.html" class="btn-publier">+ Publier</a>
  </div>
</nav>

<div class="page-layout">

  <!-- SIDEBAR -->
  <aside class="sidebar">

    <div class="filter-section">
      <div class="filter-title">Cat√©gories</div>
      <button class="filter-btn active" onclick="setCategory(this, 'all')">
        <span class="icon">üè™</span> Toutes les cat√©gories
        <span class="filter-count">24</span>
      </button>
      <button class="filter-btn" onclick="setCategory(this, 'tel')">
        <span class="icon">üì±</span> T√©l√©phones
        <span class="filter-count">8</span>
      </button>
      <button class="filter-btn" onclick="setCategory(this, 'info')">
        <span class="icon">üíª</span> Informatique
        <span class="filter-count">4</span>
      </button>
      <button class="filter-btn" onclick="setCategory(this, 'elec')">
        <span class="icon">üì∫</span> √âlectrom√©nager
        <span class="filter-count">5</span>
      </button>
      <button class="filter-btn" onclick="setCategory(this, 'mode')">
        <span class="icon">üëó</span> Mode
        <span class="filter-count">3</span>
      </button>
      <button class="filter-btn" onclick="setCategory(this, 'auto')">
        <span class="icon">üöó</span> V√©hicules
        <span class="filter-count">2</span>
      </button>
      <button class="filter-btn" onclick="setCategory(this, 'mob')">
        <span class="icon">üõãÔ∏è</span> Mobilier
        <span class="filter-count">2</span>
      </button>
    </div>

    <div class="filter-section">
      <div class="filter-title">Ville</div>
      <select class="ville-select" id="villeFilter">
        <option value="">Toute la C√¥te d'Ivoire</option>
        <option value="abidjan">Abidjan</option>
        <option value="bouake">Bouak√©</option>
        <option value="yamoussoukro">Yamoussoukro</option>
        <option value="san-pedro">San-P√©dro</option>
        <option value="korhogo">Korhogo</option>
        <option value="daloa">Daloa</option>
      </select>
    </div>

    <div class="filter-section">
      <div class="filter-title">Prix (FCFA)</div>
      <div class="price-range">
        <input type="number" class="price-input" placeholder="Min" id="priceMin" />
        <span class="price-sep">‚Äî</span>
        <input type="number" class="price-input" placeholder="Max" id="priceMax" />
      </div>
    </div>

    <div class="filter-section">
      <div class="filter-title">Niveau de confiance</div>
      <div class="trust-filter">
        <label class="trust-option">
          <input type="checkbox" id="goldFilter" /> ü•á Vendeur certifi√©
        </label>
        <label class="trust-option">
          <input type="checkbox" id="silverFilter" /> ü•à Vendeur v√©rifi√©
        </label>
        <label class="trust-option">
          <input type="checkbox" id="bronzeFilter" /> ü•â Vendeur basique
        </label>
      </div>
    </div>

    <button class="apply-btn" onclick="filterAnnonces()">Appliquer les filtres</button>

  </aside>

  <!-- CONTENU PRINCIPAL -->
  <main class="main-content">

    <div class="results-header">
      <div class="results-info">
        <h2>Annonces r√©centes</h2>
        <p id="resultsCount">24 annonces trouv√©es</p>
      </div>
      <select class="sort-select" id="sortSelect" onchange="filterAnnonces()">
        <option value="recent">Plus r√©centes</option>
        <option value="price-asc">Prix croissant</option>
        <option value="price-desc">Prix d√©croissant</option>
        <option value="trust">Niveau de confiance</option>
      </select>
    </div>

    <div class="active-filters" id="activeFilters"></div>

    <div class="annonces-grid" id="annoncesGrid">
      <!-- Annonces g√©n√©r√©es par JS -->
    </div>

    <div class="pagination" id="pagination"></div>

  </main>
</div>

<script>
  const annonces = [
    { id:1, titre:"Samsung Galaxy A54 128Go", cat:"tel", catLabel:"T√©l√©phones", prix:120000, ville:"Cocody, Abidjan", icon:"üì±", badge:"gold", time:"Il y a 2h" },
    { id:2, titre:"MacBook Pro M1 256Go 2020", cat:"info", catLabel:"Informatique", prix:650000, ville:"Plateau, Abidjan", icon:"üíª", badge:"gold", time:"Il y a 3h" },
    { id:3, titre:"TV LG 55 pouces 4K Smart", cat:"elec", catLabel:"√âlectrom√©nager", prix:280000, ville:"Yopougon, Abidjan", icon:"üì∫", badge:"silver", time:"Il y a 5h" },
    { id:4, titre:"iPhone 13 Pro 256Go ‚Äî Excellent √©tat", cat:"tel", catLabel:"T√©l√©phones", prix:450000, ville:"Marcory, Abidjan", icon:"üì±", badge:"gold", time:"Il y a 6h" },
    { id:5, titre:"Canap√© 3 places cuir marron", cat:"mob", catLabel:"Mobilier", prix:85000, ville:"Treichville, Abidjan", icon:"üõãÔ∏è", badge:"bronze", time:"Il y a 8h" },
    { id:6, titre:"R√©frig√©rateur Samsung 300L", cat:"elec", catLabel:"√âlectrom√©nager", prix:195000, ville:"Bouak√©", icon:"üßä", badge:"silver", time:"Il y a 10h" },
    { id:7, titre:"Laptop HP EliteBook i5 8Go", cat:"info", catLabel:"Informatique", prix:220000, ville:"Adjam√©, Abidjan", icon:"üíª", badge:"silver", time:"Il y a 12h" },
    { id:8, titre:"Robe soir√©e √©l√©gante T38", cat:"mode", catLabel:"Mode", prix:25000, ville:"Cocody, Abidjan", icon:"üëó", badge:"bronze", time:"Il y a 1j" },
    { id:9, titre:"Samsung Galaxy S21 FE 128Go", cat:"tel", catLabel:"T√©l√©phones", prix:200000, ville:"Abobo, Abidjan", icon:"üì±", badge:"silver", time:"Il y a 1j" },
    { id:10, titre:"Toyota Corolla 2015 essence", cat:"auto", catLabel:"V√©hicules", prix:5500000, ville:"Plateau, Abidjan", icon:"üöó", badge:"gold", time:"Il y a 1j" },
    { id:11, titre:"Machine √† laver Bosch 7kg", cat:"elec", catLabel:"√âlectrom√©nager", prix:165000, ville:"Yamoussoukro", icon:"ü´ß", badge:"silver", time:"Il y a 2j" },
    { id:12, titre:"iPad Air 5√®me g√©n√©ration 64Go", cat:"info", catLabel:"Informatique", prix:320000, ville:"Cocody, Abidjan", icon:"üì±", badge:"gold", time:"Il y a 2j" },
    { id:13, titre:"Xiaomi Redmi Note 12 128Go", cat:"tel", catLabel:"T√©l√©phones", prix:85000, ville:"Yopougon, Abidjan", icon:"üì±", badge:"bronze", time:"Il y a 2j" },
    { id:14, titre:"Climatiseur Midea 1.5 CV", cat:"elec", catLabel:"√âlectrom√©nager", prix:145000, ville:"Bouak√©", icon:"‚ùÑÔ∏è", badge:"silver", time:"Il y a 3j" },
    { id:15, titre:"Moto Yamaha FZ 2019", cat:"auto", catLabel:"V√©hicules", prix:1200000, ville:"San-P√©dro", icon:"üèçÔ∏è", badge:"silver", time:"Il y a 3j" },
    { id:16, titre:"Table √† manger 6 personnes", cat:"mob", catLabel:"Mobilier", prix:120000, ville:"Abobo, Abidjan", icon:"ü™ë", badge:"bronze", time:"Il y a 4j" },
    { id:17, titre:"Chaussures Nike Air Max T43", cat:"mode", catLabel:"Mode", prix:35000, ville:"Marcory, Abidjan", icon:"üëü", badge:"bronze", time:"Il y a 4j" },
    { id:18, titre:"Oppo A78 128Go Neuf", cat:"tel", catLabel:"T√©l√©phones", prix:110000, ville:"Daloa", icon:"üì±", badge:"silver", time:"Il y a 5j" },
    { id:19, titre:"Dell XPS 15 i7 16Go RTX", cat:"info", catLabel:"Informatique", prix:890000, ville:"Plateau, Abidjan", icon:"üíª", badge:"gold", time:"Il y a 5j" },
    { id:20, titre:"Sac √† main Louis Vuitton", cat:"mode", catLabel:"Mode", prix:180000, ville:"Cocody, Abidjan", icon:"üëú", badge:"gold", time:"Il y a 6j" },
    { id:21, titre:"iPhone 12 64Go Noir", cat:"tel", catLabel:"T√©l√©phones", prix:280000, ville:"Korhogo", icon:"üì±", badge:"silver", time:"Il y a 6j" },
    { id:22, titre:"Four micro-ondes LG 25L", cat:"elec", catLabel:"√âlectrom√©nager", prix:55000, ville:"Yopougon, Abidjan", icon:"üç≥", badge:"bronze", time:"Il y a 7j" },
    { id:23, titre:"Samsung A23 64Go Rose", cat:"tel", catLabel:"T√©l√©phones", prix:75000, ville:"Treichville, Abidjan", icon:"üì±", badge:"bronze", time:"Il y a 7j" },
    { id:24, titre:"Bureau en bois massif", cat:"mob", catLabel:"Mobilier", prix:95000, ville:"Adjam√©, Abidjan", icon:"ü™ë", badge:"silver", time:"Il y a 8j" },
  ];

  let currentCategory = 'all';
  let currentPage = 1;
  const perPage = 12;

  function getBadgeHTML(badge) {
    if (badge === 'gold') return '<span class="annonce-badge-img badge-gold-img">ü•á Certifi√©</span>';
    if (badge === 'silver') return '<span class="annonce-badge-img badge-silver-img">ü•à V√©rifi√©</span>';
    return '<span class="annonce-badge-img badge-bronze-img">ü•â Basique</span>';
  }

  function formatPrice(p) {
    return p.toLocaleString('fr-FR') + ' FCFA';
  }

  function setCategory(btn, cat) {
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    currentCategory = cat;
    currentPage = 1;
    filterAnnonces();
  }

  function filterAnnonces() {
    let filtered = [...annonces];
    const search = document.getElementById('searchInput').value.toLowerCase();
    const ville = document.getElementById('villeFilter').value;
    const priceMin = parseInt(document.getElementById('priceMin').value) || 0;
    const priceMax = parseInt(document.getElementById('priceMax').value) || Infinity;
    const goldOnly = document.getElementById('goldFilter').checked;
    const silverOnly = document.getElementById('silverFilter').checked;
    const bronzeOnly = document.getElementById('bronzeFilter').checked;
    const sort = document.getElementById('sortSelect').value;

    if (currentCategory !== 'all') filtered = filtered.filter(a => a.cat === currentCategory);
    if (search) filtered = filtered.filter(a => a.titre.toLowerCase().includes(search));
    if (ville) filtered = filtered.filter(a => a.ville.toLowerCase().includes(ville));
    filtered = filtered.filter(a => a.prix >= priceMin && a.prix <= priceMax);

    if (goldOnly || silverOnly || bronzeOnly) {
      filtered = filtered.filter(a =>
        (goldOnly && a.badge === 'gold') ||
        (silverOnly && a.badge === 'silver') ||
        (bronzeOnly && a.badge === 'bronze')
      );
    }

    if (sort === 'price-asc') filtered.sort((a,b) => a.prix - b.prix);
    else if (sort === 'price-desc') filtered.sort((a,b) => b.prix - a.prix);
    else if (sort === 'trust') filtered.sort((a,b) => {
      const order = {gold:0, silver:1, bronze:2};
      return order[a.badge] - order[b.badge];
    });

    renderGrid(filtered);
    renderPagination(filtered.length);
    document.getElementById('resultsCount').textContent = filtered.length + ' annonce' + (filtered.length > 1 ? 's' : '') + ' trouv√©e' + (filtered.length > 1 ? 's' : '');
  }

  function renderGrid(data) {
    const grid = document.getElementById('annoncesGrid');
    const start = (currentPage - 1) * perPage;
    const page = data.slice(start, start + perPage);

    if (page.length === 0) {
      grid.innerHTML = `<div class="empty-state">
        <div class="empty-icon">üîç</div>
        <div class="empty-title">Aucune annonce trouv√©e</div>
        <div class="empty-desc">Essayez d'autres crit√®res de recherche</div>
      </div>`;
      return;
    }

    grid.innerHTML = page.map(a => `
      <a class="annonce-card" href="#">
        <div class="annonce-img">
          ${a.icon}
          <button class="fav-btn" onclick="event.preventDefault()">ü§ç</button>
          ${getBadgeHTML(a.badge)}
        </div>
        <div class="annonce-body">
          <div class="annonce-cat">${a.catLabel}</div>
          <div class="annonce-title">${a.titre}</div>
          <div class="annonce-price">${formatPrice(a.prix)}</div>
          <div class="annonce-footer">
            <span class="annonce-loc">üìç ${a.ville}</span>
            <span class="annonce-time">${a.time}</span>
          </div>
        </div>
      </a>
    `).join('');
  }

  function renderPagination(total) {
    const pages = Math.ceil(total / perPage);
    const pag = document.getElementById('pagination');
    if (pages <= 1) { pag.innerHTML = ''; return; }

    let html = `<button class="page-btn" onclick="changePage(${currentPage-1})" ${currentPage===1?'disabled':''}>‚Üê</button>`;
    for (let i = 1; i <= pages; i++) {
      html += `<button class="page-btn ${i===currentPage?'active':''}" onclick="changePage(${i})">${i}</button>`;
    }
    html += `<button class="page-btn" onclick="changePage(${currentPage+1})" ${currentPage===pages?'disabled':''}>‚Üí</button>`;
    pag.innerHTML = html;
  }

  function changePage(p) {
    const total = annonces.length;
    const pages = Math.ceil(total / perPage);
    if (p < 1 || p > pages) return;
    currentPage = p;
    filterAnnonces();
    window.scrollTo(0, 0);
  }

  // Init
  filterAnnonces();
</script>
</body>
</html>
