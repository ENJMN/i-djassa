<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Publier une annonce ‚Äî I-Djassa</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Sans:ital,wght@0,300;0,400;0,500;1,300&display=swap" rel="stylesheet" />
  <style>
    :root {
      --orange: #F4722B; --orange-light: #FF9A5C; --orange-dark: #C4511A;
      --green: #1A7A4A; --green-light: #2AAD68;
      --dark: #0F0E0C; --dark-2: #1C1A16; --dark-3: #2A2720;
      --text-muted: #8A8070; --white: #FFFFFF;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'DM Sans', sans-serif; background: var(--dark); color: var(--white); min-height: 100vh; }

    nav {
      display: flex; align-items: center; justify-content: space-between;
      padding: 1rem 2rem;
      background: rgba(15,14,12,0.95); backdrop-filter: blur(16px);
      border-bottom: 1px solid rgba(244,114,43,0.15);
      position: sticky; top: 0; z-index: 100;
    }
    .logo { font-family: 'Syne', sans-serif; font-weight: 800; font-size: 1.4rem; text-decoration: none; }
    .logo .i { color: var(--orange); } .logo .d { color: var(--white); }
    .nav-back {
      display: flex; align-items: center; gap: 0.5rem;
      color: rgba(255,255,255,0.6); text-decoration: none; font-size: 0.88rem;
      transition: color 0.2s;
    }
    .nav-back:hover { color: var(--white); }

    .page-wrapper {
      max-width: 780px; margin: 0 auto; padding: 2.5rem 1.5rem 4rem;
    }

    .page-header { margin-bottom: 2.5rem; }
    .page-header h1 {
      font-family: 'Syne', sans-serif; font-size: 2rem; font-weight: 800;
      letter-spacing: -0.02em; margin-bottom: 0.4rem;
    }
    .page-header p { color: var(--text-muted); font-size: 0.95rem; }

    /* PROGRESS */
    .progress-bar {
      display: flex; gap: 0; margin-bottom: 2.5rem;
      background: var(--dark-2); border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.06); overflow: hidden;
    }
    .progress-step {
      flex: 1; padding: 0.8rem 1rem; display: flex; align-items: center; gap: 0.6rem;
      font-size: 0.82rem; font-weight: 500; color: var(--text-muted);
      border-right: 1px solid rgba(255,255,255,0.06); cursor: pointer;
      transition: all 0.2s;
    }
    .progress-step:last-child { border-right: none; }
    .progress-step.active { background: rgba(244,114,43,0.1); color: var(--orange); }
    .progress-step.done { color: var(--green-light); }
    .step-num {
      width: 22px; height: 22px; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 0.72rem; font-weight: 700; flex-shrink: 0;
      background: rgba(255,255,255,0.08); color: var(--text-muted);
    }
    .progress-step.active .step-num { background: var(--orange); color: var(--white); }
    .progress-step.done .step-num { background: var(--green); color: var(--white); }

    /* FORM CARD */
    .form-card {
      background: var(--dark-2); border: 1px solid rgba(255,255,255,0.06);
      border-radius: 20px; padding: 2rem; margin-bottom: 1.2rem;
    }

    .form-section-title {
      font-family: 'Syne', sans-serif; font-size: 1rem; font-weight: 700;
      margin-bottom: 1.2rem; display: flex; align-items: center; gap: 0.5rem;
    }
    .form-section-title .icon { font-size: 1.2rem; }

    .form-group { margin-bottom: 1.2rem; }
    .form-label {
      display: block; font-size: 0.85rem; font-weight: 600;
      margin-bottom: 0.4rem; color: rgba(255,255,255,0.8);
    }
    .form-label .required { color: var(--orange); margin-left: 0.2rem; }
    .form-label .hint { color: var(--text-muted); font-weight: 400; font-size: 0.78rem; margin-left: 0.5rem; }

    .form-input, .form-select, .form-textarea {
      width: 100%; background: var(--dark-3);
      border: 1px solid rgba(255,255,255,0.1); border-radius: 10px;
      padding: 0.7rem 1rem; color: var(--white); font-size: 0.9rem;
      font-family: 'DM Sans', sans-serif; outline: none;
      transition: border-color 0.2s;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus { border-color: var(--orange); }
    .form-input::placeholder, .form-textarea::placeholder { color: rgba(255,255,255,0.25); }
    .form-select option { background: var(--dark-2); }
    .form-textarea { resize: vertical; min-height: 120px; line-height: 1.6; }

    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }

    /* PHOTO UPLOAD */
    .photo-upload-zone {
      border: 2px dashed rgba(255,255,255,0.12); border-radius: 14px;
      padding: 2rem; text-align: center; cursor: pointer;
      transition: all 0.2s; background: var(--dark-3);
      position: relative;
    }
    .photo-upload-zone:hover { border-color: var(--orange); background: rgba(244,114,43,0.05); }
    .photo-upload-zone input { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }
    .upload-icon { font-size: 2.5rem; margin-bottom: 0.8rem; }
    .upload-title { font-weight: 600; font-size: 0.95rem; margin-bottom: 0.3rem; }
    .upload-sub { color: var(--text-muted); font-size: 0.82rem; }
    .upload-limit { color: var(--orange); font-size: 0.78rem; margin-top: 0.5rem; }

    .photos-preview {
      display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.6rem; margin-top: 1rem;
    }
    .photo-thumb {
      aspect-ratio: 1; border-radius: 10px; background: var(--dark-3);
      border: 1px solid rgba(255,255,255,0.08);
      display: flex; align-items: center; justify-content: center;
      font-size: 1.5rem; position: relative; overflow: hidden;
    }
    .photo-thumb.has-photo { border-color: var(--green); }
    .photo-thumb .remove-photo {
      position: absolute; top: 4px; right: 4px;
      background: rgba(0,0,0,0.7); border: none; border-radius: 50%;
      width: 20px; height: 20px; color: var(--white); font-size: 0.7rem;
      cursor: pointer; display: none; align-items: center; justify-content: center;
    }
    .photo-thumb.has-photo:hover .remove-photo { display: flex; }
    .photo-thumb.main-photo::after {
      content: 'Principal'; position: absolute; bottom: 0; left: 0; right: 0;
      background: rgba(244,114,43,0.85); color: var(--white);
      font-size: 0.65rem; font-weight: 700; text-align: center; padding: 2px;
    }

    /* PRIX */
    .prix-wrapper { position: relative; }
    .prix-wrapper .form-input { padding-right: 5rem; }
    .prix-currency {
      position: absolute; right: 1rem; top: 50%; transform: translateY(-50%);
      color: var(--text-muted); font-size: 0.82rem; font-weight: 600;
      pointer-events: none;
    }

    .prix-hint {
      display: flex; gap: 0.5rem; margin-top: 0.5rem; flex-wrap: wrap;
    }
    .prix-quick {
      padding: 0.25rem 0.7rem; border-radius: 100px; font-size: 0.75rem;
      background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
      color: var(--text-muted); cursor: pointer; transition: all 0.15s;
    }
    .prix-quick:hover { border-color: var(--orange); color: var(--orange); }

    /* ETAT */
    .etat-options { display: flex; gap: 0.7rem; flex-wrap: wrap; }
    .etat-btn {
      padding: 0.5rem 1rem; border-radius: 100px; font-size: 0.85rem; font-weight: 500;
      border: 1px solid rgba(255,255,255,0.12); background: none; color: rgba(255,255,255,0.6);
      cursor: pointer; font-family: 'DM Sans', sans-serif; transition: all 0.15s;
    }
    .etat-btn:hover { border-color: var(--orange); color: var(--orange); }
    .etat-btn.selected { border-color: var(--orange); background: rgba(244,114,43,0.12); color: var(--orange); }

    /* PREUVE */
    .preuve-zone {
      border: 1px dashed rgba(26,122,74,0.3); border-radius: 12px;
      padding: 1.2rem; background: rgba(26,122,74,0.05);
      display: flex; align-items: center; gap: 1rem; cursor: pointer;
      transition: all 0.2s; position: relative;
    }
    .preuve-zone:hover { border-color: var(--green-light); background: rgba(26,122,74,0.08); }
    .preuve-zone input { position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%; }
    .preuve-icon { font-size: 2rem; flex-shrink: 0; }
    .preuve-text h4 { font-size: 0.9rem; font-weight: 600; color: var(--green-light); margin-bottom: 0.2rem; }
    .preuve-text p { font-size: 0.8rem; color: var(--text-muted); line-height: 1.5; }

    /* SUBMIT */
    .form-actions {
      display: flex; gap: 1rem; justify-content: flex-end;
      margin-top: 1.5rem; flex-wrap: wrap;
    }
    .btn-draft {
      padding: 0.8rem 1.5rem; border-radius: 100px;
      border: 1px solid rgba(255,255,255,0.15); background: none;
      color: rgba(255,255,255,0.7); font-size: 0.9rem; font-weight: 500;
      cursor: pointer; font-family: 'DM Sans', sans-serif; transition: all 0.2s;
    }
    .btn-draft:hover { border-color: var(--white); color: var(--white); }
    .btn-submit {
      padding: 0.8rem 2rem; border-radius: 100px;
      background: var(--orange); border: none; color: var(--white);
      font-size: 0.95rem; font-weight: 700; cursor: pointer;
      font-family: 'DM Sans', sans-serif; transition: all 0.2s;
      box-shadow: 0 4px 20px rgba(244,114,43,0.3);
    }
    .btn-submit:hover { background: var(--orange-dark); transform: translateY(-1px); }

    /* SUCCESS */
    .success-overlay {
      display: none; position: fixed; inset: 0;
      background: rgba(0,0,0,0.85); z-index: 200;
      align-items: center; justify-content: center;
    }
    .success-overlay.show { display: flex; }
    .success-card {
      background: var(--dark-2); border: 1px solid rgba(26,122,74,0.3);
      border-radius: 24px; padding: 3rem; text-align: center; max-width: 400px;
      animation: popIn 0.4s ease;
    }
    @keyframes popIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }
    .success-icon { font-size: 4rem; margin-bottom: 1rem; }
    .success-title { font-family: 'Syne', sans-serif; font-size: 1.5rem; font-weight: 800; margin-bottom: 0.5rem; }
    .success-desc { color: var(--text-muted); font-size: 0.9rem; line-height: 1.6; margin-bottom: 2rem; }
    .success-actions { display: flex; flex-direction: column; gap: 0.7rem; }
    .btn-success-primary {
      padding: 0.8rem; border-radius: 100px; background: var(--orange);
      border: none; color: var(--white); font-weight: 700; font-size: 0.95rem;
      cursor: pointer; font-family: 'DM Sans', sans-serif; text-decoration: none;
      display: block; transition: background 0.2s;
    }
    .btn-success-secondary {
      padding: 0.8rem; border-radius: 100px;
      border: 1px solid rgba(255,255,255,0.15); background: none;
      color: rgba(255,255,255,0.7); font-size: 0.9rem; cursor: pointer;
      font-family: 'DM Sans', sans-serif; text-decoration: none; display: block;
    }

    @media (max-width: 600px) {
      .form-row { grid-template-columns: 1fr; }
      .photos-preview { grid-template-columns: repeat(3, 1fr); }
    }
  </style>
</head>
<body>

<nav>
  <a href="index.html" class="logo"><span class="i">I-</span><span class="d">Djassa</span></a>
  <a href="annonces.html" class="nav-back">‚Üê Retour aux annonces</a>
</nav>

<div class="page-wrapper">

  <div class="page-header">
    <h1>üì¶ Publier une annonce</h1>
    <p>Remplissez les informations ci-dessous. Votre annonce sera visible en quelques minutes.</p>
  </div>

  <!-- PROGRESS -->
  <div class="progress-bar">
    <div class="progress-step active" id="step1">
      <span class="step-num">1</span> Informations
    </div>
    <div class="progress-step" id="step2">
      <span class="step-num">2</span> Photos
    </div>
    <div class="progress-step" id="step3">
      <span class="step-num">3</span> Prix & D√©tails
    </div>
    <div class="progress-step" id="step4">
      <span class="step-num">4</span> Confiance
    </div>
  </div>

  <!-- SECTION 1 : INFORMATIONS -->
  <div class="form-card">
    <div class="form-section-title"><span class="icon">üìù</span> Informations de l'annonce</div>

    <div class="form-group">
      <label class="form-label">Titre de l'annonce <span class="required">*</span> <span class="hint">Soyez pr√©cis et descriptif</span></label>
      <input type="text" class="form-input" placeholder="Ex: Samsung Galaxy A54 128Go ‚Äî Tr√®s bon √©tat" id="titreInput" oninput="updateCharCount(this, 'titreCount', 80)" maxlength="80" />
      <div style="text-align:right; font-size:0.75rem; color:var(--text-muted); margin-top:0.3rem"><span id="titreCount">0</span>/80</div>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label class="form-label">Cat√©gorie <span class="required">*</span></label>
        <select class="form-select" id="categorieInput">
          <option value="">Choisir une cat√©gorie</option>
          <option value="tel">üì± T√©l√©phones & Tablettes</option>
          <option value="info">üíª Informatique</option>
          <option value="elec">üì∫ √âlectrom√©nager</option>
          <option value="mode">üëó Mode & V√™tements</option>
          <option value="auto">üöó V√©hicules</option>
          <option value="immo">üè† Immobilier</option>
          <option value="mob">üõãÔ∏è Mobilier</option>
          <option value="jeux">üéÆ Jeux & Loisirs</option>
          <option value="cuisine">üç≥ Cuisine</option>
          <option value="livres">üìö Livres & √âducation</option>
          <option value="beaute">üíÑ Beaut√© & Sant√©</option>
          <option value="outils">‚öôÔ∏è Outillage</option>
          <option value="autre">üì¶ Autre</option>
        </select>
      </div>
      <div class="form-group">
        <label class="form-label">Ville <span class="required">*</span></label>
        <select class="form-select" id="villeInput">
          <option value="">Choisir une ville</option>
          <option value="abidjan">Abidjan</option>
          <option value="bouake">Bouak√©</option>
          <option value="yamoussoukro">Yamoussoukro</option>
          <option value="san-pedro">San-P√©dro</option>
          <option value="korhogo">Korhogo</option>
          <option value="daloa">Daloa</option>
          <option value="man">Man</option>
          <option value="gagnoa">Gagnoa</option>
          <option value="autre">Autre ville</option>
        </select>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">Commune / Quartier <span class="hint">Optionnel mais recommand√©</span></label>
      <input type="text" class="form-input" placeholder="Ex: Cocody, Yopougon, Plateau..." />
    </div>

    <div class="form-group">
      <label class="form-label">Description <span class="required">*</span> <span class="hint">D√©crivez l'√©tat, les caract√©ristiques, l'historique</span></label>
      <textarea class="form-textarea" placeholder="Donnez un maximum de d√©tails sur votre article : √©tat, √¢ge, raison de la vente, d√©fauts √©ventuels..." id="descInput" oninput="updateCharCount(this, 'descCount', 1000)" maxlength="1000"></textarea>
      <div style="text-align:right; font-size:0.75rem; color:var(--text-muted); margin-top:0.3rem"><span id="descCount">0</span>/1000</div>
    </div>
  </div>

  <!-- SECTION 2 : PHOTOS -->
  <div class="form-card">
    <div class="form-section-title"><span class="icon">üì∏</span> Photos <span style="color:var(--text-muted);font-size:0.82rem;font-weight:400;margin-left:0.5rem">La premi√®re photo sera la photo principale</span></div>

    <div class="photo-upload-zone" onclick="document.getElementById('photoInput').click()">
      <input type="file" id="photoInput" accept="image/*" multiple onchange="handlePhotos(this)" style="display:none" />
      <div class="upload-icon">üñºÔ∏è</div>
      <div class="upload-title">Cliquez pour ajouter des photos</div>
      <div class="upload-sub">ou glissez-d√©posez vos images ici</div>
      <div class="upload-limit">Maximum 8 photos ‚Ä¢ JPG, PNG ‚Ä¢ 5 Mo par photo</div>
    </div>

    <div class="photos-preview" id="photosPreview">
      <div class="photo-thumb" id="thumb0">üì∑</div>
      <div class="photo-thumb" id="thumb1">üì∑</div>
      <div class="photo-thumb" id="thumb2">üì∑</div>
      <div class="photo-thumb" id="thumb3">üì∑</div>
      <div class="photo-thumb" id="thumb4">üì∑</div>
      <div class="photo-thumb" id="thumb5">üì∑</div>
      <div class="photo-thumb" id="thumb6">üì∑</div>
      <div class="photo-thumb" id="thumb7">üì∑</div>
    </div>
  </div>

  <!-- SECTION 3 : PRIX -->
  <div class="form-card">
    <div class="form-section-title"><span class="icon">üí∞</span> Prix & √âtat</div>

    <div class="form-group">
      <label class="form-label">Prix <span class="required">*</span></label>
      <div class="prix-wrapper">
        <input type="number" class="form-input" placeholder="0" id="prixInput" min="0" />
        <span class="prix-currency">FCFA</span>
      </div>
      <div class="prix-hint">
        <span class="prix-quick" onclick="setPrice(50000)">50 000</span>
        <span class="prix-quick" onclick="setPrice(100000)">100 000</span>
        <span class="prix-quick" onclick="setPrice(200000)">200 000</span>
        <span class="prix-quick" onclick="setPrice(500000)">500 000</span>
        <span class="prix-quick" onclick="setPrice(1000000)">1 000 000</span>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">√âtat de l'article <span class="required">*</span></label>
      <div class="etat-options">
        <button class="etat-btn" onclick="selectEtat(this)">üÜï Neuf</button>
        <button class="etat-btn" onclick="selectEtat(this)">‚ú® Comme neuf</button>
        <button class="etat-btn" onclick="selectEtat(this)">üëç Tr√®s bon √©tat</button>
        <button class="etat-btn" onclick="selectEtat(this)">üëå Bon √©tat</button>
        <button class="etat-btn" onclick="selectEtat(this)">‚ö†Ô∏è √âtat correct</button>
        <button class="etat-btn" onclick="selectEtat(this)">üîß Pour pi√®ces</button>
      </div>
    </div>

    <div class="form-group">
      <label class="form-label">Num√©ro de contact <span class="required">*</span> <span class="hint">Les acheteurs vous contacteront sur ce num√©ro</span></label>
      <input type="tel" class="form-input" placeholder="Ex: 07 XX XX XX XX" />
    </div>

    <div class="form-group">
      <label class="form-label" style="display:flex;align-items:center;gap:0.5rem;cursor:pointer">
        <input type="checkbox" style="accent-color:var(--orange)" /> Negociable
      </label>
    </div>
  </div>

  <!-- SECTION 4 : CONFIANCE -->
  <div class="form-card">
    <div class="form-section-title"><span class="icon">üõ°Ô∏è</span> Preuves de propri√©t√© <span style="color:var(--green-light);font-size:0.78rem;font-weight:500;margin-left:0.5rem">Recommand√© ‚Äî Augmente la confiance</span></div>

    <p style="color:var(--text-muted);font-size:0.88rem;line-height:1.6;margin-bottom:1.2rem">
      Ajoutez vos re√ßus d'achat, factures ou photos avec votre CNI pour prouver que vous √™tes le propri√©taire l√©gal de cet article. Cela vous donne un badge ü•á Certifi√© et rassure les acheteurs.
    </p>

    <div class="preuve-zone" style="margin-bottom:0.8rem">
      <input type="file" accept=".pdf,image/*" />
      <div class="preuve-icon">üßæ</div>
      <div class="preuve-text">
        <h4>Re√ßu d'achat / Facture</h4>
        <p>PDF ou photo de votre facture d'achat originale</p>
      </div>
    </div>

    <div class="preuve-zone">
      <input type="file" accept="image/*" />
      <div class="preuve-icon">ü§≥</div>
      <div class="preuve-text">
        <h4>Photo avec l'article</h4>
        <p>Une photo de vous tenant l'article avec votre CNI visible</p>
      </div>
    </div>
  </div>

  <!-- ACTIONS -->
  <div class="form-actions">
    <button class="btn-draft">üíæ Sauvegarder brouillon</button>
    <button class="btn-submit" onclick="submitAnnonce()">üöÄ Publier l'annonce</button>
  </div>

</div>

<!-- SUCCESS OVERLAY -->
<div class="success-overlay" id="successOverlay">
  <div class="success-card">
    <div class="success-icon">üéâ</div>
    <div class="success-title">Annonce publi√©e !</div>
    <div class="success-desc">Votre annonce est en ligne et visible par tous les visiteurs de I-Djassa. Bonne vente !</div>
    <div class="success-actions">
      <a href="annonces.html" class="btn-success-primary">Voir toutes les annonces</a>
      <a href="publier.html" class="btn-success-secondary">Publier une autre annonce</a>
    </div>
  </div>
</div>

<script>
  function updateCharCount(el, countId, max) {
    document.getElementById(countId).textContent = el.value.length;
  }

  function setPrice(val) {
    document.getElementById('prixInput').value = val;
  }

  function selectEtat(btn) {
    document.querySelectorAll('.etat-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
  }

  let photoCount = 0;
  function handlePhotos(input) {
    const files = Array.from(input.files).slice(0, 8 - photoCount);
    files.forEach((file, i) => {
      const idx = photoCount + i;
      if (idx >= 8) return;
      const reader = new FileReader();
      reader.onload = e => {
        const thumb = document.getElementById('thumb' + idx);
        thumb.innerHTML = `<img src="${e.target.result}" style="width:100%;height:100%;object-fit:cover;border-radius:9px" />
          <button class="remove-photo" onclick="removePhoto(${idx})">‚úï</button>`;
        thumb.classList.add('has-photo');
        if (idx === 0) thumb.classList.add('main-photo');
      };
      reader.readAsDataURL(file);
    });
    photoCount = Math.min(8, photoCount + files.length);
  }

  function removePhoto(idx) {
    const thumb = document.getElementById('thumb' + idx);
    thumb.innerHTML = 'üì∑';
    thumb.classList.remove('has-photo', 'main-photo');
    photoCount = Math.max(0, photoCount - 1);
  }

  function submitAnnonce() {
    const titre = document.getElementById('titreInput').value;
    const cat = document.getElementById('categorieInput').value;
    const ville = document.getElementById('villeInput').value;
    const desc = document.getElementById('descInput').value;
    const prix = document.getElementById('prixInput').value;

    if (!titre || !cat || !ville || !desc || !prix) {
      alert('Veuillez remplir tous les champs obligatoires (*)');
      return;
    }
    document.getElementById('successOverlay').classList.add('show');
  }
</script>
</body>
</html>
